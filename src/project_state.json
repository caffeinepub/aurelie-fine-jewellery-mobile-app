{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "E-commerce web/PWA app (Aurelie Fine Jewellery) with checkout enhancements: dynamic UPI payment (QR + deep link) and coupon-based discounting.",
  "architectural_notes": [
    "Checkout should compute final payable amount (after discounts) and use it to generate the UPI payment URI and corresponding QR code; on mobile, launch the UPI app via the UPI deep link."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-update-the-checkout-page-to-support-applying-a-coupon-code-at-checkout-add-an-apply-coupon-input-on-the-customer-checkout-flow-and-when-the-code-afj10-is-entered-apply-a-10-discount-to-the-final-bill-value-shown-in-the-checkout-totals",
      "title": "Update the Checkout page to support applying a coupon code at checkout: add an \"Apply Coupon\" input on the customer checkout flow, and when the code \"AFJ10\" is entered, apply a 10% discount to the final bill value shown in the checkout totals.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-dynamic-upi-payment-generation-on-the-checkout-page-using-the-final-payable-amount-from-checkout-after-coupon-discount-if-applied-generate-a-upi-deep-link-and-render-a-qr-code-that-encodes-that-upi-link",
      "title": "Implement dynamic UPI payment generation on the Checkout page using the final payable amount from checkout (after coupon discount, if applied): generate a UPI deep link and render a QR code that encodes that UPI link.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-on-mobile-devices-provide-a-pay-using-upi-action-that-automatically-opens-the-customer-s-installed-upi-app-using-the-generated-upi-deep-link-upi-pay",
      "title": "On mobile devices, provide a \"Pay using UPI\" action that automatically opens the customerâ€™s installed UPI app using the generated UPI deep link (upi://pay...).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-align-order-creation-totals-with-the-final-payable-amount-logic-when-afj10-is-applied-ensure-the-ordercreate-totalpriceincents-values-sent-to-the-backend-reflect-the-discounted-pricing-so-recorded-orders-match-what-the-user-is-instructed-to-pay",
      "title": "Align order creation totals with the final payable amount logic: when AFJ10 is applied, ensure the OrderCreate.totalPriceInCents values sent to the backend reflect the discounted pricing (so recorded orders match what the user is instructed to pay).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add dynamic UPI payment at checkout: generate UPI deep link + QR code using final cart total (arjun.tapse-1@okhdfcbank) and auto-open UPI app on mobile.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add Apply Coupon field at checkout: when code AFJ10 is entered, apply 10% discount to final bill value (affects UPI amount/total).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Checkout: dynamic UPI QR/deep-link payment + AFJ10 coupon (10% off)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}